<% provide(:title, "Show user") %>

<h1>Show the user detail</h1>
<%= link_to "Back to users index page", admin_users_path, class: "btn btn-primary" %>
<table class="table table-striped"summary="User List">
  <thead class="thead-light">
    <tr>
      <th scope="col">#</th>
      <th scope="col">Username</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Gender</th>
      <th scope="col">Date of Birth</th>
      <th scope="col">Phone Number</th>
      <th scope="col">Address</th>
    </tr>
    </thead>
    <tbody>
    <tr>
      <th scope="row" ><%= @user.id %></th>
      <td ><%= @user.username.upcase %></td>
      <td ><%= @user.first_name %></td>
      <td ><%= @user.last_name %></td>
      <td ><%= @gender[@user.gender] %></td>
      <td ><%= @user.date_of_birth %></td>
      <td ><%= @user.phone_number %></td>
      <td ><%= @user.address %></td>
      <td ><%= link_to("Edit", edit_admin_user_path(@user)) %></td>
    </tr>
  </tbody>
</table>


<h2><%= @user.username.upcase %> 's bank accounts: </h2>
<%= link_to("Create a new bank account", { :controller=>"bank_accounts",:action => "new", :id=> @user.id }, class: "btn btn-primary") %>

<table class="table table-striped">
  <thead class="thead-light">
    <tr>
        <th scope="col"> Account id</th>
        <th scope="col"> Currency</th>
        <th scope="col"> Type of Account</th>
        <th scope="col"> Amount</th>
    </tr>
    </thead>
    <tbody>
    <% @bankAccounts.each do |bankAccount| %>
    <tr>
        <th scope="row"> <%= link_to bankAccount.account_id, admin_bank_account_path(bankAccount.account_id) %></th>
        <td > <%= bankAccount.currency %></td>
        <td > <%= bankAccount.type_of_account %></td>
        <td > <%= bankAccount.amount %></td>
    </tr>
    <% end %>
  </tbody>
</table>
